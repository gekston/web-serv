webpackJsonp([1],{Dnmp:function(t,e,n){"use strict";function o(t){n("Ht7Y")}var s=n("tAf+"),a=n("Wuw5"),i=n("VU/8"),r=o,l=i(s.a,a.a,!1,r,"data-v-bebe19ba",null);e.a=l.exports},Ht7Y:function(t,e){},I4t6:function(t,e,n){"use strict";var o=n("Dd8w"),s=n.n(o),a=n("NYxO");e.a={name:"login",data:function(){return{user:this.$store.state.user,loggIn:this.$store.state.loggIn,response:{status:""},model:{login:"",password:""}}},methods:s()({},Object(a.b)(["auth"]),Object(a.c)(["isLoggIn"]),{submit:function(){this.auth(this.model)}}),computed:{},route:{activate:function(){}}}},IcnI:function(t,e,n){"use strict";var o=n("7+uW"),s=n("NYxO"),a=n("bREw");o.a.use(s.a);var i=new s.a.Store({modules:{user:a.a}});e.a=i},K31e:function(t,e,n){"use strict";function o(t){n("uOqp")}var s=n("I4t6"),a=n("wi4V"),i=n("VU/8"),r=o,l=i(s.a,a.a,!1,r,"data-v-3f944f52",null);e.a=l.exports},M93x:function(t,e,n){"use strict";function o(t){n("bKOM")}var s=n("xJD8"),a=n("QLQN"),i=n("VU/8"),r=o,l=i(s.a,a.a,!1,r,null,null);e.a=l.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),s=n("1mcD"),a=n.n(s),i=n("K/Lq"),r=n.n(i),l=n("M93x"),u=n("YaEn"),c=n("IcnI"),d=n("9JMe");n.n(d);o.a.config.productionTip=!1,o.a.use(a.a),o.a.use(r.a),Object(d.sync)(c.a,u.a),new o.a({el:"#app",router:u.a,store:c.a,template:"<App/>",components:{App:l.a}})},QLQN:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"app"},on:{scroll:t.onScroll}},[n("router-view")],1)},s=[],a={render:o,staticRenderFns:s};e.a=a},Wuw5:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{tag:"main"}},[t._v("\r\n  User main page if logIN\r\n  "),n("button",{on:{click:t.logout}},[t._v("log out")])])},s=[],a={render:o,staticRenderFns:s};e.a=a},YaEn:function(t,e,n){"use strict";var o=n("7+uW"),s=n("/ocq"),a=n("K31e"),i=n("Dnmp"),r=n("IcnI");o.a.use(s.a);var l=new s.a({routes:[{path:"/",name:"root"},{path:"/login",component:a.a,name:"login"},{path:"/me",component:i.a,name:"me",meta:{requiredAuth:!0}}]});l.beforeEach(function(t,e,n){if(t.meta.requiredAuth){r.a.getters.isLoggIn?n():l.push("/login")}else n()}),e.a=l},bKOM:function(t,e){},bREw:function(t,e,n){"use strict";var o=n("mtWM"),s=n.n(o),a={user:null,loggIn:!1},i={userData:function(t,e){t.user=e},loggInUser:function(t,e){t.loggIn=e}},r={auth:function(t,e){var n=t.commit,o=e.login,i=e.password;s.a.post("https://mix.sumdu.edu.ua/api/v1/party/login?login="+o+"&password="+i,{withCredentials:!0}).then(function(t){a.isLogg=!0,localStorage.setItem("loggin",!0),a.isLogg&&console.log(document.cookie),n("userData",t.data),n("loggInUser",a.isLogg)}).catch(function(t){localStorage.setItem("loggin",!1),console.log("Wrong!",t)})},logOut:function(t){var e=t.commit;s.a.post("https://mix.sumdu.edu.ua/api/v1/party/logout",{headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(t){a.isLogg=!1,localStorage.setItem("loggin",!1),e("loggInUser",a.isLogg)})}},l={isLoggIn:function(t){return t.loggIn}};e.a={state:a,mutations:i,actions:r,getters:l}},"tAf+":function(t,e,n){"use strict";var o=n("Dd8w"),s=n.n(o),a=n("NYxO");e.a={name:"me",methods:s()({},Object(a.b)(["logOut"]),{logout:function(){this.logOut()}})}},uOqp:function(t,e){},wi4V:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("form",{staticClass:"login__form",on:{submit:function(e){e.preventDefault(),t.submit()}}},[n("div",{staticClass:"login__form-row"},[n("label",{staticClass:"login__form-label",attrs:{for:"login"}},[t._v("login")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.model.login,expression:"model.login",modifiers:{lazy:!0}}],attrs:{type:"text",id:"login",required:""},domProps:{value:t.model.login},on:{change:function(e){t.$set(t.model,"login",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"login__form-row"},[n("label",{staticClass:"login__form-label",attrs:{for:"pass"}},[t._v("password")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.model.password,expression:"model.password",modifiers:{lazy:!0}}],attrs:{type:"password",id:"pass",required:""},domProps:{value:t.model.password},on:{change:function(e){t.$set(t.model,"password",e.target.value)}}})]),t._v(" "),n("button",{staticClass:"login__form-send",attrs:{type:"submit"}},[t._v("log in")])]),t._v(" "),n("p",[t._v(t._s(t.user))])])},s=[],a={render:o,staticRenderFns:s};e.a=a},xJD8:function(t,e,n){"use strict";e.a={name:"app",data:function(){return{scrolled:!1,scrollY:0}},methods:{onScroll:function(){this.scrolled=window.scrollY>0,this.scrollY=window.scrollY}},created:function(){window.addEventListener("scroll",this.onScroll)},destroyed:function(){window.removeEventListener("scroll",this.onScroll)}}}},["NHnr"]);
//# sourceMappingURL=app.76b30e6ff3b5184db3f5.js.map