webpackJsonp([1],{Dnmp:function(t,e,n){"use strict";function o(t){n("Ht7Y")}var s=n("tAf+"),a=n("Wuw5"),r=n("VU/8"),i=o,u=r(s.a,a.a,!1,i,"data-v-bebe19ba",null);e.a=u.exports},Ht7Y:function(t,e){},I4t6:function(t,e,n){"use strict";var o=n("Gu7T"),s=n.n(o),a=n("fZjL"),r=n.n(a),i=n("Dd8w"),u=n.n(i),l=n("NYxO"),c=n("IcnI");e.a={name:"login",data:function(){return{user:c.a.state.user,loggIn:this.$store.state.loggIn,response:{status:""},model:{login:"",password:""}}},methods:u()({},Object(l.b)(["auth"]),Object(l.c)(["isLoggIn"]),{submit:function(){this.auth(this.model)}}),computed:{logginEd:function(){return c.a.getters.isLoggIn},userObj:function(){return c.a.state.user.user.data},useKey:function(){var t=r()(c.a.state.user.user.data),e=[].concat(s()(t.keys()));return console.log(e),e}},route:{}}},IcnI:function(t,e,n){"use strict";var o=n("7+uW"),s=n("NYxO"),a=n("bREw");o.a.use(s.a);var r=new s.a.Store({modules:{user:a.a}});e.a=r},K31e:function(t,e,n){"use strict";function o(t){n("suWv")}var s=n("I4t6"),a=n("s44F"),r=n("VU/8"),i=o,u=r(s.a,a.a,!1,i,"data-v-350133e6",null);e.a=u.exports},M93x:function(t,e,n){"use strict";function o(t){n("bKOM")}var s=n("xJD8"),a=n("QLQN"),r=n("VU/8"),i=o,u=r(s.a,a.a,!1,i,null,null);e.a=u.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),s=n("1mcD"),a=n.n(s),r=n("K/Lq"),i=n.n(r),u=n("M93x"),l=n("YaEn"),c=n("IcnI"),g=n("9JMe");n.n(g);o.a.config.productionTip=!1,o.a.use(a.a),o.a.use(i.a),Object(g.sync)(c.a,l.a),new o.a({el:"#app",router:l.a,store:c.a,template:"<App/>",components:{App:u.a}})},QLQN:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"app"},on:{scroll:t.onScroll}},[n("router-view")],1)},s=[],a={render:o,staticRenderFns:s};e.a=a},Wuw5:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{tag:"main"}},[t._v("\r\n  User main page if logIN\r\n  "),n("button",{on:{click:t.logout}},[t._v("log out")])])},s=[],a={render:o,staticRenderFns:s};e.a=a},YaEn:function(t,e,n){"use strict";var o=n("7+uW"),s=n("/ocq"),a=n("K31e"),r=n("Dnmp"),i=n("IcnI");o.a.use(s.a);var u=new s.a({routes:[{path:"/",name:"root"},{path:"/login",component:a.a,name:"login"},{path:"/me",component:r.a,name:"me",meta:{requiredAuth:!0}}]});u.beforeEach(function(t,e,n){if(t.meta.requiredAuth){i.a.getters.isLoggIn?n():u.push("/login")}else n()}),e.a=u},bKOM:function(t,e){},bREw:function(t,e,n){"use strict";var o=n("mtWM"),s=n.n(o),a={user:null,loggIn:!1},r={userData:function(t,e){t.user=e},loggInUser:function(t,e){t.loggIn=e}},i={auth:function(t,e){var n=t.commit,o=e.login,r=e.password;s.a.post("https://mix.sumdu.edu.ua/api/v1/party/login?login="+o+"&password="+r,{withCredentials:!0}).then(function(t){a.isLogg=!0,localStorage.setItem("loggin",!0),a.isLogg,n("userData",t.data),n("loggInUser",a.isLogg)}).catch(function(t){localStorage.setItem("loggin",!1),console.log("Wrong!",t)})},logOut:function(t){var e=t.commit;s.a.post("https://mix.sumdu.edu.ua/api/v1/party/logout",{headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(t){a.isLogg=!1,localStorage.setItem("loggin",!1),e("loggInUser",a.isLogg)})}},u={isLoggIn:function(t){return t.loggIn}};e.a={state:a,mutations:r,actions:i,getters:u}},s44F:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.logginEd?n("div",[n("ul",t._l(t.userObj,function(e){return n("li",[t._v("\r\n        "+t._s(e)+"\r\n      ")])})),t._v(" "),n("img",{attrs:{src:t.userObj.image,alt:"image"}})]):n("div",{staticClass:"login"},[n("form",{staticClass:"login__form",on:{submit:function(e){e.preventDefault(),t.submit()}}},[n("div",{staticClass:"login__form-row"},[n("label",{staticClass:"login__form-label",attrs:{for:"login"}},[t._v("login")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.model.login,expression:"model.login",modifiers:{lazy:!0}}],attrs:{type:"text",id:"login",required:""},domProps:{value:t.model.login},on:{change:function(e){t.$set(t.model,"login",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"login__form-row"},[n("label",{staticClass:"login__form-label",attrs:{for:"pass"}},[t._v("password")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.model.password,expression:"model.password",modifiers:{lazy:!0}}],attrs:{type:"password",id:"pass",required:""},domProps:{value:t.model.password},on:{change:function(e){t.$set(t.model,"password",e.target.value)}}})]),t._v(" "),n("button",{staticClass:"login__form-send",attrs:{type:"submit"}},[t._v("log in")])])])])},s=[],a={render:o,staticRenderFns:s};e.a=a},suWv:function(t,e){},"tAf+":function(t,e,n){"use strict";var o=n("Dd8w"),s=n.n(o),a=n("NYxO");e.a={name:"me",methods:s()({},Object(a.b)(["logOut"]),{logout:function(){this.logOut()}})}},xJD8:function(t,e,n){"use strict";e.a={name:"app",data:function(){return{scrolled:!1,scrollY:0}},methods:{onScroll:function(){this.scrolled=window.scrollY>0,this.scrollY=window.scrollY}},created:function(){window.addEventListener("scroll",this.onScroll)},destroyed:function(){window.removeEventListener("scroll",this.onScroll)}}}},["NHnr"]);
//# sourceMappingURL=app.b35d19364123e5098781.js.map